let rutCliente;function buscar(){consultarAPI(),rutCliente=document.getElementById("rut").value.trim(),/^[0-9]+$/.test(rutCliente)||alert("El RUT solo debe contener nÃºmeros.")}async function consultarAPI(){try{const e="http://localhost/proyecto_idaca/public/api/clientes",t=await fetch(e);buscarCliente(await t.json())}catch(e){console.log(e)}}function buscarCliente(e){e.forEach((e=>{const{dni:t,nombre:n}=e;t===rutCliente&&mostrar(t,n)}))}function mostrar(e,t,n){for(;nombreCliente.firstChild;)nombreCliente.removeChild(nombreCliente.firstChild);const l=document.createElement("LABEL");l.textContent="Nombre cliente:";const i=document.createElement("INPUT");i.type="text",i.classList.add("cliente"),i.value=t,nombreCliente.appendChild(l),nombreCliente.appendChild(i),document.getElementById("rut").value=e}function agregarlinea(){const e=document.createElement("input"),t=document.createElement("TD");t.appendChild(e);const n=document.createElement("TD"),l=document.createElement("input");n.appendChild(l);const i=document.createElement("TD"),o=document.createElement("input");o.type="number",i.appendChild(o);const a=document.createElement("TD"),c=document.createElement("input");a.appendChild(c);const r=document.createElement("TD"),d=document.createElement("input");c.setAttribute("readonly","true"),r.appendChild(d);const m=document.createElement("TD");m.textContent="",m.classList.add("limpiar");const u=document.createElement("TR");u.appendChild(t),u.appendChild(n),u.appendChild(i),u.appendChild(a),u.appendChild(r),u.appendChild(m),document.getElementById("producto").appendChild(u),document.querySelectorAll(".limpiar").forEach((function(e){e.innerHTML='<td class="celda_limpiar">\n    <div class="icono_limpiar" title="Limpiar Fila">\n        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clear-all" width="32" height="32" viewBox="0 0 24 24" stroke-width="1.5" stroke="#ff2825" fill="none" stroke-linecap="round" stroke-linejoin="round">\n        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>\n        <path d="M8 6h12" />\n        <path d="M6 12h12" />\n        <path d="M4 18h12" />\n        </svg>\n    </div>\n    </td>'}))}function eliminarlinea(){document.getElementById("producto").lastChild.remove()}window.buscar=buscar,window.agregarlinea=agregarlinea,window.eliminarlinea=eliminarlinea;