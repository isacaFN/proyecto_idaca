function mostrarPrevisualizacionPDF(){document.getElementById("modalPrevisualizacion").style.display="block"}function confirmarVenta(){guardarVenta(JSON.parse(localStorage.getItem("productos")),JSON.parse(localStorage.getItem("cliente")),localStorage.getItem("pdf"))}async function guardarVenta(e,o,a){try{const t=await fetch("http://localhost/proyecto_idaca/public/guardarVenta",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productos:e,cliente:o,pdf:a})}),r=await t.text();try{const e=JSON.parse(r);"success"===e.status?(console.log("Respuesta del servidor:",e.data),window.location.href="ventas"):console.log("Hubo un error en la solicitud:",e.message)}catch(e){console.error("Error al analizar el JSON:",e),console.log("Mensaje de error:"+r)}}catch(e){console.error("Error en la solicitud:",e)}}document.addEventListener("DOMContentLoaded",(function(){mostrarPrevisualizacionPDF()})),window.confirmarVenta=confirmarVenta;