let rutCliente;function buscar(){consultarAPI(),rutCliente=document.getElementById("rut").value.trim(),/^[0-9]+$/.test(rutCliente)||alert("El RUT solo debe contener nÃºmeros.")}async function consultarAPI(){try{const e="http://localhost/proyecto_idaca/public/api/clientes",t=await fetch(e);buscarCliente(await t.json())}catch(e){console.log(e)}}function buscarCliente(e){e.forEach((e=>{const{dni:t,nombre:n}=e;t===rutCliente&&mostrar(t,n)}))}function mostrar(e,t,n){for(;nombreCliente.firstChild;)nombreCliente.removeChild(nombreCliente.firstChild);const l=document.createElement("LABEL");l.textContent="Nombre cliente:";const c=document.createElement("INPUT");c.type="text",c.classList.add("cliente"),c.value=t,nombreCliente.appendChild(l),nombreCliente.appendChild(c),document.getElementById("rut").value=e}function agregarlinea(){const e=document.createElement("input"),t=document.createElement("TD");t.appendChild(e);const n=document.createElement("TD"),l=document.createElement("input");n.appendChild(l);const c=document.createElement("TD"),o=document.createElement("input");o.type="number",c.appendChild(o);const a=document.createElement("TD"),i=document.createElement("input");a.appendChild(i);const d=document.createElement("TD"),r=document.createElement("input");i.setAttribute("readonly","true"),d.appendChild(r);const m=document.createElement("TD");m.textContent="";const u=document.createElement("TR");u.appendChild(t),u.appendChild(n),u.appendChild(c),u.appendChild(a),u.appendChild(d),u.appendChild(m),document.getElementById("producto").appendChild(u)}function eliminarlinea(){document.getElementById("producto").lastChild.remove()}window.buscar=buscar,window.agregarlinea=agregarlinea,window.eliminarlinea=eliminarlinea;